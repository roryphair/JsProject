!function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/dist/",n(n.s=1)}([function(t,e,n){},function(t,e,n){"use strict";function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}n.r(e);var r=function(){function t(e,n,i,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.player=i,this.board=e,this.spot=[0,0],this.dead=!1,this.img=null,this.healthBar=null,this.sound=null,this.makeUnit(n,r),this.fight=!1,i&&this.dragElement(this.unit,this),this.move=this.move.bind(this),this.target=null,this.attackCooldown=0,this.timer=0,this.imgChange=-35}var e,n,r;return e=t,(n=[{key:"startFight",value:function(){this.getTarget(),this.fight=!0,requestAnimationFrame(this.move)}},{key:"changeImg",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;(this.timer>this.imgChange+60||e)&&(this.imgChange=this.timer,this.unit.src=t)}},{key:"endFight",value:function(){this.fight=!1,this.changeImg(this.imgBase,!0)}},{key:"getTarget",value:function(){var t=this,e=this.player?this.board.enemyUnits:this.board.playerUnits;if(e.length>0){this.target=e[0];var n=this.unit.offsetLeft-this.target.unit.offsetLeft,i=this.unit.offsetTop-this.target.unit.offsetTop,r=Math.sqrt(Math.pow(n,2)+Math.pow(i,2));e.forEach((function(e){var n=t.unit.offsetLeft-e.unit.offsetLeft,i=t.unit.offsetTop-e.unit.offsetTop,o=Math.sqrt(Math.pow(n,2)+Math.pow(i,2));o<r&&(t.target=e,r=o)}))}else this.target=null}},{key:"checkCollision",value:function(){var t=this,e=0,n=0;return this.board.enemyUnits.concat(this.board.playerUnits).forEach((function(i){if(i!==t){var r=i.unit.offsetLeft-t.unit.offsetLeft,o=i.unit.offsetTop-t.unit.offsetTop,a=Math.sqrt(Math.pow(r,2)+Math.pow(o,2));0===a?(n=1,e=1):a<90&&(e+=r/a,n+=o/a)}})),this.unit.offsetLeft<0?e=-2:this.unit.offsetLeft>700&&(e=2),this.unit.offsetTop<0?n=-2:this.unit.offsetTop>700&&(n=2),[n,e]}},{key:"move",value:function(){if(this.fight&&!this.dead){this.timer+=1;var t=this.checkCollision(),e=t[0],n=t[1];if(this.target&&!this.target.dead){this.attackCooldown+=1;var i=this.unit.offsetTop-this.target.unit.offsetTop,r=this.unit.offsetLeft-this.target.unit.offsetLeft,o=Math.sqrt(Math.pow(r,2)+Math.pow(i,2));o>130*this.range?(r/=o,i/=o,this.unit.style.transform=r<0?"scaleX(1)":"scaleX(-1)",this.changeImg(this.imgMove),this.setHealthBar()):(r=Math.random()-.5,i=Math.random()-.5,this.attackCooldown>90?(this.attackTarget(),this.changeImg(this.imgFight,!0),this.attackCooldown=0):this.changeImg(this.imgBase));var a=this.specialMovement();this.unit.style.top=this.unit.offsetTop-e-this.speed*i+a[0]+"px",this.unit.style.left=this.unit.offsetLeft-n-this.speed*r+a[1]+"px",this.setHealthBar(),requestAnimationFrame(this.move)}else this.getTarget(),requestAnimationFrame(this.move)}else this.changeImg(this.imgBase)}},{key:"specialMovement",value:function(){return[0,0]}},{key:"attackTarget",value:function(){window.soundsOn&&this.sound.play(),this.target.takeDamage(this.attack)}},{key:"takeDamage",value:function(t){this.health>0&&(this.health-=t,this.healthBar.innerHTML=this.health,this.health<=0&&this.deleteSelf())}},{key:"makeUnit",value:function(t,e){var n=document.createElement("img"),i=document.createElement("h2"),r=document.createElement("audio");r.src=e,r.volume=.1,n.src=this.imgBase,i.innerHTML=this.health,i.className="health-bar",this.player?n.className="unit player":n.className="unit enemy";for(var o=t[0],a=t[1];this.board.grid[o][a];)(o+=1)>7&&(o=0,(a+=1)>7&&(a=4));this.spot=[o,a],n.style.top=100*o+"px",n.style.left=100*a+"px",this.board.grid[o][a]=this,this.healthBar=i,this.sound=r,n.appendChild(r),document.getElementById("board").appendChild(n),document.getElementById("board").appendChild(i),this.unit=n,window.soundsOn&&this.player&&r.play(),this.setHealthBar()}},{key:"dragElement",value:function(t,e){var n=0,i=0,r=0,o=0;function a(a){e.fight||(a.preventDefault(),n=r-a.clientX,i=o-a.clientY,r=a.clientX,o=a.clientY,t.style.top=t.offsetTop-i+"px",t.style.left=t.offsetLeft-n+"px",e.setHealthBar())}function s(){e.fight||(t.style.top=Math.max(Math.min(100*Math.round((t.offsetTop-i)/100),700),0)+"px",t.style.left=Math.min(100*Math.round((t.offsetLeft-n)/100),300)+"px",document.onmouseup=null,document.onmousemove=null,t.offsetLeft<0?e.deleteSelf():e.place([t.offsetTop/100,t.offsetLeft/100]))}t.onmousedown=function(t){(t=t||window.event).preventDefault(),r=t.clientX,o=t.clientY,document.onmouseup=s,document.onmousemove=a}}},{key:"place",value:function(t){var e=this.spot;this.board.grid[this.spot[0]][this.spot[1]]=null,this.board.grid[t[0]][t[1]]&&this.board.grid[t[0]][t[1]].place(e),this.spot=t,this.setCords()}},{key:"setCords",value:function(){this.board.grid[this.spot[0]][this.spot[1]]=this,this.unit.style.top=100*this.spot[0]+"px",this.unit.style.left=100*this.spot[1]+"px",this.setHealthBar()}},{key:"setHealthBar",value:function(){this.healthBar.style.top=this.unit.offsetTop-30+"px",this.healthBar.style.left=this.unit.offsetLeft+30+"px"}},{key:"deleteSelf",value:function(){this.dead=!0,this.board.deleteUnit(this,this.player),this.unit.remove(),this.healthBar.remove()}}])&&i(e.prototype,n),r&&i(e,r),t}();function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function c(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var l=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(i,t);var e,n=(e=i,function(){var t,n=u(e);if(c()){var i=u(this).constructor;t=Reflect.construct(n,arguments,i)}else t=n.apply(this,arguments);return s(this,t)});function i(t,e,r){var o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(o=n.call(this,t,e,r,"./src/assets/sounds/dog.mp3")).soundBase="./src/assets/sounds/dogBark.mp3",o.imgMove="./src/assets/units/dogMove.png",o.imgBase="./src/assets/units/dogStand.png",o.imgFight="./src/assets/units/dogFight.png",o.speed=2,o.range=1,o.attack=10,o.health=100,o.sound.volume=.2,o.unit.src=o.imgBase,o.healthBar.innerHTML=o.health,o}return i}(r);function h(t){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function p(t,e){return!e||"object"!==h(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function m(t){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var y=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(i,t);var e,n=(e=i,function(){var t,n=m(e);if(d()){var i=m(this).constructor;t=Reflect.construct(n,arguments,i)}else t=n.apply(this,arguments);return p(this,t)});function i(t,e,r){var o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(o=n.call(this,t,e,r,"./src/assets/sounds/gibbon.mp3")).imgMove="./src/assets/units/gibbonMove.png",o.imgBase="./src/assets/units/gibbonStand.png",o.imgFight="./src/assets/units/gibbonFight.png",o.speed=1,o.range=2,o.attack=17,o.health=30,o.unit.src=o.imgBase,o.healthBar.innerHTML=o.health,o}return i}(r);function g(t){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function b(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function v(t,e){return(v=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function k(t,e){return!e||"object"!==g(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function w(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function M(t){return(M=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var T=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&v(t,e)}(a,t);var e,n,i,r,o=(e=a,function(){var t,n=M(e);if(w()){var i=M(this).constructor;t=Reflect.construct(n,arguments,i)}else t=n.apply(this,arguments);return k(this,t)});function a(t,e,n){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(i=o.call(this,t,e,n,"./src/assets/sounds/otter.mp3")).imgMove="./src/assets/units/otterMove.png",i.imgBase="./src/assets/units/otterStand.png",i.imgFight="./src/assets/units/otterFight.png",i.speed=4,i.range=1,i.attack=20,i.health=30,i.sound.volume=.07,i.unit.src=i.imgBase,i.healthBar.innerHTML=i.health,i}return n=a,(i=[{key:"getTarget",value:function(){var t=this.player?this.board.enemyUnits:this.board.playerUnits;if(t.length>0){var e=Math.floor(Math.random()*t.length);this.target=t[e]}else this.target=null}},{key:"attackTarget",value:function(){window.soundsOn&&this.sound.play(),this.target.takeDamage(this.attack),this.getTarget()}}])&&b(n.prototype,i),r&&b(n,r),a}(r);function O(t){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function S(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function B(t,e,n){return(B="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=_(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function E(t,e){return(E=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function L(t,e){return!e||"object"!==O(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function H(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function _(t){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var P=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&E(t,e)}(a,t);var e,n,i,r,o=(e=a,function(){var t,n=_(e);if(H()){var i=_(this).constructor;t=Reflect.construct(n,arguments,i)}else t=n.apply(this,arguments);return L(this,t)});function a(t,e,n){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(i=o.call(this,t,e,n,"./src/assets/sounds/goat.mp3")).imgMove="./src/assets/units/goatMove.png",i.imgBase="./src/assets/units/goatStand.png",i.imgFight="./src/assets/units/goatFight.png",i.speed=2,i.range=1.3,i.attack=15,i.health=50,i.unit.src=i.imgBase,i.healthBar.innerHTML=i.health,i}return n=a,(i=[{key:"startFight",value:function(){this.spot[0]=(7-this.spot[0])%8,this.spot[1]=(7-this.spot[1])%8,this.setCords(),B(_(a.prototype),"startFight",this).call(this)}}])&&S(n.prototype,i),r&&S(n,r),a}(r);function j(t){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function U(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function R(t,e){return(R=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function D(t,e){return!e||"object"!==j(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function C(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function x(t){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var I=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&R(t,e)}(a,t);var e,n,i,r,o=(e=a,function(){var t,n=x(e);if(C()){var i=x(this).constructor;t=Reflect.construct(n,arguments,i)}else t=n.apply(this,arguments);return D(this,t)});function a(t,e,n){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(i=o.call(this,t,e,n,"./src/assets/sounds/llama.mp3")).imgMove="./src/assets/units/llamaMove.png",i.imgBase="./src/assets/units/llamaStand.png",i.imgFight="./src/assets/units/llamaFight.png",i.speed=2,i.range=3,i.attack=10,i.health=50,i.unit.src=i.imgBase,i.healthBar.innerHTML=i.health,i.specialMove=[0,0],i}return n=a,(i=[{key:"checkCollision",value:function(){var t=0,e=0;return this.unit.offsetLeft<0?t=-5:this.unit.offsetLeft>700&&(t=5),this.unit.offsetTop<0?e=-5:this.unit.offsetTop>700&&(e=5),[e,t]}},{key:"specialMovement",value:function(){if(this.timer%30==0){var t=0,e=0;if(this.getTarget(),this.target&&!this.target.dead){this.attackCooldown+=1;var n=this.unit.offsetTop-this.target.unit.offsetTop,i=this.unit.offsetLeft-this.target.unit.offsetLeft,r=Math.sqrt(Math.pow(i,2)+Math.pow(n,2));r<60*this.range&&(t=i/r,e=n/r)}var o=Math.random()*Math.PI*2;this.specialMove=[(Math.cos(o)+e)*this.speed,(Math.sin(o)+t)*this.speed]}return this.specialMove}}])&&U(n.prototype,i),r&&U(n,r),a}(r);function F(t){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function A(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function q(t,e){return(q=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function G(t,e){return!e||"object"!==F(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function W(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function N(t){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var X=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&q(t,e)}(a,t);var e,n,i,r,o=(e=a,function(){var t,n=N(e);if(W()){var i=N(this).constructor;t=Reflect.construct(n,arguments,i)}else t=n.apply(this,arguments);return G(this,t)});function a(t,e,n){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(i=o.call(this,t,e,n,"./src/assets/sounds/sal.mp3")).imgMove="./src/assets/units/salMove.png",i.imgBase="./src/assets/units/salStand.png",i.imgFight="./src/assets/units/salFight.png",i.speed=1,i.range=1,i.attack=3,i.health=150,i.sound.vol=.7,i.unit.src=i.imgBase,i.healthBar.innerHTML=i.health,i}return n=a,(i=[{key:"specialMovement",value:function(){return this.timer%45==0&&(this.health+=2,this.healthBar.innerHTML=this.health),[0,0]}}])&&A(n.prototype,i),r&&A(n,r),a}(r);function Y(t){return(Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function z(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function V(t,e){return(V=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function J(t,e){return!e||"object"!==Y(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function K(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function Q(t){return(Q=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Z=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&V(t,e)}(a,t);var e,n,i,r,o=(e=a,function(){var t,n=Q(e);if(K()){var i=Q(this).constructor;t=Reflect.construct(n,arguments,i)}else t=n.apply(this,arguments);return J(this,t)});function a(t,e,n){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(i=o.call(this,t,e,n,"./src/assets/sounds/chilla.mp3")).imgMove="./src/assets/units/chillaMove.png",i.imgBase="./src/assets/units/chillaStand.png",i.imgFight="./src/assets/units/chillaFight.png",i.speed=0,i.range=1,i.attack=1,i.health=10,i.unit.src=i.imgBase,i.healthBar.innerHTML=i.health,i.specialMove=[0,0],i}return n=a,(i=[{key:"checkCollision",value:function(){var t=0,e=0;return this.unit.offsetLeft<0?t=-5:this.unit.offsetLeft>700&&(t=5),this.unit.offsetTop<0?e=-5:this.unit.offsetTop>700&&(e=5),[e,t]}},{key:"specialMovement",value:function(){return this.timer%150==0&&((this.player?this.board.playerUnits:this.board.enemyUnits).forEach((function(t){t.health+=5,t.healthBar.innerHTML=t.health})),this.specialMove=[8*(Math.random()-.5),8*(Math.random()-.5)],this.changeImg(this.imgFight,!0)),this.specialMove}}])&&z(n.prototype,i),r&&z(n,r),a}(r);function $(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var tt=function(){function t(e,n,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.game=i,this.playerUnits=e,this.enemyUnits=n,this.enemyBase=[],this.grid=[],this.squares=[],this.waveStarted=!1,this.fightButton=document.getElementById("start-fight-button"),this.resetGrid(8),this.parent=document.getElementById("board"),this.buildGrid(),this.makeUnit=this.makeUnit.bind(this),this.makeEnemyUnit=this.makeEnemyUnit.bind(this),this.startFight=this.startFight.bind(this),this.clearGrid=this.clearGrid.bind(this),this.boardGlow=this.boardGlow.bind(this),this.totalUnits=document.getElementById("total-units"),this.maxPlayer=0,this.timer=0,this.background=document.getElementById("board")}var e,n,i;return e=t,(n=[{key:"startFight",value:function(t){t.preventDefault(),!this.waveStarted&&this.playerUnits.length>0?(this.game.changeMusic("fight"),this.fightButton.innerHTML="Reset!",this.waveStarted=!0,this.clearGrid(),this.playerUnits.forEach((function(t){return t.startFight()})),this.enemyUnits.forEach((function(t){return t.startFight()})),requestAnimationFrame(this.boardGlow)):this.waveStarted&&(this.game.changeMusic("base"),this.makeWave(this.maxPlayer))}},{key:"boardGlow",value:function(){this.timer+=1,this.background.style.backgroundColor="rgba(".concat(175*Math.sin(this.timer/123),", ").concat(50*Math.cos(this.timer/83)," , ").concat(255*Math.sin(this.timer/203),", 0.7)"),this.waveStarted&&requestAnimationFrame(this.boardGlow)}},{key:"winWave",value:function(){this.game.makeOverlay(!0),this.waveStarted=!1,this.playerUnits.forEach((function(t){t.endFight()}))}},{key:"loseWave",value:function(){this.game.makeOverlay(!1),this.waveStarted=!1,this.enemyUnits.forEach((function(t){t.endFight()}))}},{key:"makeWave",value:function(t){var e=this;this.fightButton.innerHTML="Start Fight",this.waveStarted=!1,this.setGrid(),this.maxPlayer=t,this.enemyUnits.forEach((function(t){t.deleteSelf()})),this.playerUnits.forEach((function(t){t.deleteSelf()})),this.enemyBase.forEach((function(t){e.makeEnemyUnit(t[0],t[1])})),this.setPlayerTotal()}},{key:"setPlayerTotal",value:function(){this.totalUnits.innerHTML="Animals Left: "+(this.maxPlayer-this.playerUnits.length)}},{key:"resetGrid",value:function(t){for(var e=[],n=0;n<t;n++){for(var i=[],r=0;r<t;r++)i.push(null);e.push(i)}this.grid=e}},{key:"buildGrid",value:function(){for(var t=0;t<this.grid.length;t++){for(var e=[],n=0;n<this.grid.length;n++){var i=document.createElement("div");i.style.top=100*t+"px",i.style.left=100*n+"px",this.parent.appendChild(i),e.push(i)}this.squares.push(e)}}},{key:"setGrid",value:function(){for(var t=0;t<this.grid.length;t++)for(var e=0;e<this.grid.length;e++)this.squares[t][e].className=e<4?"board-square-player":"board-square-enemy"}},{key:"clearGrid",value:function(){for(var t=0;t<this.grid.length;t++)for(var e=0;e<this.grid.length;e++)this.squares[t][e].className=""}},{key:"makeUnit",value:function(t){var e=this;return function(n){if(e.playerUnits.length<e.maxPlayer){var i;switch(n.preventDefault(),t){case"dog":i=l;break;case"gibbon":i=y;break;case"otter":i=T;break;case"goat":i=P;break;case"llama":i=I;break;case"sal":i=X;break;case"chilla":i=Z;break;default:i=l}var r=new i(e,[0,0],!0);e.playerUnits.push(r),e.setPlayerTotal()}}}},{key:"makeEnemyUnit",value:function(t,e){var n;switch(t){case"dog":n=l;break;case"gibbon":n=y;break;case"otter":n=T;break;case"goat":n=P;break;case"llama":n=I;break;case"sal":n=X;break;case"chilla":n=Z;break;default:n=l}var i=new n(this,e,!1);this.enemyUnits.push(i)}},{key:"deleteUnit",value:function(t,e){if(this.grid[t.spot[0]][t.spot[1]]=null,e){var n=this.playerUnits.indexOf(t);this.playerUnits=this.playerUnits.slice(0,n).concat(this.playerUnits.slice(n+1,this.playerUnits.length)),0===this.playerUnits.length&&this.waveStarted&&this.loseWave(),this.waveStarted||this.setPlayerTotal()}else{var i=this.enemyUnits.indexOf(t);this.enemyUnits=this.enemyUnits.slice(0,i).concat(this.enemyUnits.slice(i+1,this.enemyUnits.length)),0===this.enemyUnits.length&&this.waveStarted&&this.winWave()}}}])&&$(e.prototype,n),i&&$(e,i),t}();function et(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var nt=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.playerUnits=[],this.enemyUnits=[];var e=document.createElement("audio");document.getElementById("board").append(e),this.music=e,this.music.loop=!0,this.board=new tt(this.playerUnits,this.enemyUnits,this),this.wave=1,this.playerAmount=1,this.waveData=[],this.waveNumb=document.getElementById("wave-numb"),this.description=document.getElementById("stats"),this.fillDescription=this.fillDescription.bind(this),this.getWaveData(),this.board.enemyBase=this.waveData,this.board.makeWave(this.playerAmount),this.win=this.win.bind(this),this.lose=this.lose.bind(this),this.startMusic=this.startMusic.bind(this),this.startSounds=this.startSounds.bind(this),this.makeButton(),this.changeMusic("base"),this.timer=0,window.soundsOn=!0,this.background=document.getElementById("html"),this.backgroundChange=this.backgroundChange.bind(this),requestAnimationFrame(this.backgroundChange),this.animals=["dog","gibbon","otter","goat","llama","sal","chilla"]}var e,n,i;return e=t,(n=[{key:"backgroundChange",value:function(){this.timer+=1,this.background.style.backgroundColor="rgba(".concat(125*Math.sin(this.timer/345),", 0 , ").concat(255*Math.sin(this.timer/234),", 0.7)"),requestAnimationFrame(this.backgroundChange)}},{key:"changeMusic",value:function(t){var e=!this.music.paused;switch(t){case"fight":this.music.src="./src/assets/music/fight.mp3",this.music.volume=.15;break;case"base":this.music.src="./src/assets/music/prepare.mp3",this.music.volume=.1;break;case"win":this.music.src="./src/assets/music/win.mp3",this.music.volume=.05;break;case"lose":this.music.src="./src/assets/music/lose.mp3",this.music.volume=.05}e&&this.music.play()}},{key:"startMusic",value:function(t){t.preventDefault(),this.music.paused?(document.getElementById("music-button").innerHTML="Chill Beats Off",this.music.play()):(document.getElementById("music-button").innerHTML="Chill Beats On",this.music.pause())}},{key:"startSounds",value:function(t){t.preventDefault(),window.soundsOn=!window.soundsOn,window.soundsOn?document.getElementById("sounds-button").innerHTML="Sounds Off":document.getElementById("sounds-button").innerHTML="Sounds On"}},{key:"makeButton",value:function(){var t=this;document.getElementById("music-button").onclick=this.startMusic,document.getElementById("sounds-button").onclick=this.startSounds,document.getElementById("cheat").onclick=this.win,document.getElementById("back").onclick=function(){t.wave>1&&(t.wave-=2,t.win())},document.getElementById("start-fight-button").onclick=this.board.startFight;var e=document.getElementById("make-dog-button");e.onclick=this.board.makeUnit("dog"),e.onmouseover=this.fillDescription("dog");var n=document.getElementById("make-gibbon-button");n.onclick=this.board.makeUnit("gibbon"),n.onmouseover=this.fillDescription("gibbon");var i=document.getElementById("make-otter-button");i.onclick=this.board.makeUnit("otter"),i.onmouseover=this.fillDescription("otter");var r=document.getElementById("make-goat-button");r.onclick=this.board.makeUnit("goat"),r.onmouseover=this.fillDescription("goat");var o=document.getElementById("make-llama-button");o.onclick=this.board.makeUnit("llama"),o.onmouseover=this.fillDescription("llama");var a=document.getElementById("make-sal-button");a.onclick=this.board.makeUnit("sal"),a.onmouseover=this.fillDescription("sal");var s=document.getElementById("make-chilla-button");s.onclick=this.board.makeUnit("chilla"),s.onmouseover=this.fillDescription("chilla")}},{key:"fillDescription",value:function(t){var e=this;return function(n){switch(n.preventDefault(),t){case"dog":e.description.children[1].innerHTML="Dog",e.description.children[2].innerHTML="Health: 100"+"&nbsp".repeat(10)+"Attack: 10",e.description.children[3].innerHTML="Range: 1"+"&nbsp".repeat(15)+"Speed: 2",e.description.children[4].innerHTML="Dog standard animal, balanced, fluffy, pretty. Perfect";break;case"gibbon":e.description.children[1].innerHTML="Gibbon",e.description.children[2].innerHTML="Health: 50"+"&nbsp".repeat(10)+"Attack: 17",e.description.children[3].innerHTML="Range: 2"+"&nbsp".repeat(15)+"Speed: 1",e.description.children[4].innerHTML="Smacks foes from afar with lanky goodness. Slow and delicate though.";break;case"goat":e.description.children[1].innerHTML="Goat",e.description.children[2].innerHTML="Health: 50"+"&nbsp".repeat(10)+"Attack: 15",e.description.children[3].innerHTML="Range: 1.3"+"&nbsp".repeat(15)+"Speed: 2",e.description.children[4].innerHTML="At the start of the fight, the goat jumps to the opposite position on the board. Very slick.";break;case"otter":e.description.children[1].innerHTML="Otter",e.description.children[2].innerHTML="Health: 30"+"&nbsp".repeat(10)+"Attack: 20",e.description.children[3].innerHTML="Range: 1"+"&nbsp".repeat(15)+"Speed: 4",e.description.children[4].innerHTML="Fast and chaotic, the otter is hard to control. Tempting to pet, but dangerous nonetheless.";break;case"llama":e.description.children[1].innerHTML="Llama",e.description.children[2].innerHTML="Health: 50"+"&nbsp".repeat(10)+"Attack: 10",e.description.children[3].innerHTML="Range: 3"+"&nbsp".repeat(15)+"Speed: 2",e.description.children[4].innerHTML="The Llama is fast and deadly, attacking from afar with spit. They are a bit stubborn though.";break;case"sal":e.description.children[1].innerHTML="Salamander",e.description.children[2].innerHTML="Health: 150"+"&nbsp".repeat(10)+"Attack: 3",e.description.children[3].innerHTML="Range: 1"+"&nbsp".repeat(15)+"Speed: 1",e.description.children[4].innerHTML="Low attack, but this animal can take a beating and keeps regenerating! Nice.";break;case"chilla":e.description.children[1].innerHTML="Chilla",e.description.children[2].innerHTML="Health: 10"+"&nbsp".repeat(10)+"Attack: 1",e.description.children[3].innerHTML="Range: 1"+"&nbsp".repeat(15)+"Speed: 4",e.description.children[4].innerHTML="The chilla is very weak but its fluffyness inspires others to fight harder!"}}}},{key:"getWaveData",value:function(){switch(this.wave){case 1:this.playerAmount=2,this.waveData=[["dog",[4,5]]];break;case 2:this.playerAmount=2,this.waveData=[["dog",[4,5]],["dog",[5,5]]];break;case 3:this.playerAmount=3,this.waveData=[["dog",[4,5]],["dog",[5,5]],["gibbon",[4,7]]];break;case 4:this.playerAmount=4,this.waveData=[["otter",[0,6]],["otter",[2,6]],["otter",[4,6]],["otter",[6,6]]];break;case 5:this.playerAmount=4,this.waveData=[["chilla",[4,7]],["sal",[3,4]],["gibbon",[4,5]],["dog",[5,4]]];break;case 6:this.playerAmount=5,this.waveData=[["llama",[0,5]],["llama",[1,5]],["llama",[3,6]],["llama",[4,7]],["llama",[2,7]]];break;case 7:this.playerAmount=5,this.waveData=[["sal",[0,4]],["sal",[1,4]],["sal",[2,4]],["gibbon",[0,5]],["chilla",[0,7]]];break;default:this.playerAmount=10;for(var t=[],e=0;e<12;e++)t.push(this.makeRandomAnimal());this.waveData=t}this.waveNumb.innerHTML="Wave: ".concat(this.wave)}},{key:"makeRandomAnimal",value:function(){var t=[];return t.push(this.animals[Math.floor(Math.random()*this.animals.length)]),t.push([Math.floor(8*Math.random()),Math.floor(4*Math.random())+4]),t}},{key:"makeOverlay",value:function(t){var e=document.createElement("div"),n=document.createElement("div");n.id="overlayBack",e.id="overlay";var i=document.createElement("h2"),r=document.createElement("button");t?(this.changeMusic("win"),i.innerHTML="You Won, Wowza "+Math.round(1e4*Math.random()),r.innerHTML="Next Wave!",r.onclick=this.win):(this.changeMusic("lose"),i.innerHTML="You lost! Sad and disgraceful",r.innerHTML="Try Again!",r.onclick=this.lose),e.appendChild(i),e.appendChild(r),document.getElementById("body").appendChild(n),document.getElementById("body").appendChild(e)}},{key:"win",value:function(){this.changeMusic("base"),document.getElementById("overlay")&&(document.getElementById("overlayBack").remove(),document.getElementById("overlay").remove()),this.wave+=1,this.getWaveData(),this.board.enemyBase=this.waveData,this.board.makeWave(this.playerAmount)}},{key:"lose",value:function(){this.changeMusic("base"),document.getElementById("overlay").remove(),document.getElementById("overlayBack").remove(),this.board.makeWave(this.playerAmount)}}])&&et(e.prototype,n),i&&et(e,i),t}();n(0);document.addEventListener("DOMContentLoaded",(function(){new nt}))}]);
//# sourceMappingURL=main.js.map